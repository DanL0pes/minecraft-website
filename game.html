<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game | Minecave</title>
    <link rel="stylesheet" href="./assets/css/styleDefault.css">
    <link rel="stylesheet" href="./assets/css/styleGame.css">
</head>
<body>
    <nav class="transparent">
        <div class="container">
            <img src="./assets/images/logo.png" alt="MineCave">
            <ul class="links">
                <li class="link"><a href="#">Sobre</a></li>
                <li class="link"><a href="game.html">Craftgame</a></li>
                <li class="link"><a href="#">Curiosidades</a></li>
                <li class="btn-entrar"><a href="#">Entrar</a></li>
            </ul>
        </div>
    </nav>
    <section class="sessao-crafting-game">
        <div class="container">
            <div class="game-display">
                <div class="crafting">
                    <div class="game">
                        <h1 class="titulo">Crafting Game</h1>
                        <div class="display-craft" id="itemDisplay">
                            <div class="row">
                                <p class="item_frame" id="item_1"></p>
                                <p class="item_frame" id="item_2"></p>
                                <p class="item_frame" id="item_3"></p>
                            </div>
                            <div class="row">
                                <p class="item_frame" id="item_4"></p>
                                <p class="item_frame" id="item_5"></p>
                                <p class="item_frame" id="item_6"></p>
                            </div>
                            <div class="row">
                                <p class="item_frame" id="item_7"></p>
                                <p class="item_frame" id="item_8"></p>
                                <p class="item_frame" id="item_9"></p>
                            </div>
                        </div>
                        <button onclick="check()">Check</button>
                    </div>
                    <div id="img_res"></div>
                </div>

                <div class="tentativas">
                    <div id="div_tentativa"></div>
                </div>
            </div>
            <div class="items-box">
                <button onclick="selecionarItemCobblestone()"><img src="./assets/images/Cobblestone.png"></button>
                <button onclick="selecionarItemStick()"><img src="./assets/images/Stick.png"></button>
                <button onclick="selecionarItemIron()"><img src="./assets/images/Iron.png"></button>
                <button onclick="selecionarItemDiamond()"><img src="./assets/images/Diamond.png"></button>
                <button onclick="selecionarItemGold()"><img src="./assets/images/Gold.png"></button>
                <button onclick="selecionarItemCoal()"><img src="./assets/images/Coal.png"></button>
                <button onclick="selecionarItemPlanks()"><img src="./assets/images/Oak_Planks.png"></button>
                <button onclick="selecionarItemRedstone()"><img src="./assets/images/Redstone.png"></button>
                <button onclick="selecionarItemVazio()"><img src="./assets/images/Vazio.png"></button>
            </div>

        </div>


    </section>
</body>

<script>
    const itemFrames = document.querySelectorAll(".item_frame");
    let itemPos = 0;
    const items = []
    let contagem = 1;
    let status = 'jogando';

    // Atualizar item que está
    atualizarDisplay();
    function atualizarDisplay(){
        const spanItem = document.querySelectorAll(".item-selected");
        spanItem.forEach((span) => {
            span.remove();
        });

        itemFrames[itemPos].innerHTML += `<span class='item-selected'></span>`; 
        
        // if(itemPos == 0 || itemPos == 9){
        //     item_1.innerHTML += `<span class='item-selected'></span>`
        // } else if(itemPos == 1){
        //     item_2.innerHTML += `<span class='item-selected'></span>`
        // }else if(itemPos == 2){
        //     item_3.innerHTML += `<span class='item-selected'></span>`
        // }else if(itemPos == 3){
        //     item_4.innerHTML += `<span class='item-selected'></span>`
        // }if(itemPos == 4){
        //     item_5.innerHTML += `<span class='item-selected'></span>`
        // }if(itemPos == 5){
        //     item_6.innerHTML += `<span class='item-selected'></span>`
        // }if(itemPos == 6){
        //     item_7.innerHTML += `<span class='item-selected'></span>`
        // }if(itemPos == 7){
        //     item_8.innerHTML += `<span class='item-selected'></span>`
        // }else if(itemPos == 8){
        //     item_9.innerHTML += `<span class='item-selected'></span>`
        // }
    }

    // Check Resposta
    function check(){
        if(contagem == 1){
            div_tentativa.style.display = "flex";
        }

        const corErradoCraft = '#ec7c7c';
        const corCertoCraft = '#81e9b0';
        let corretoFrase = '';
        let qtdeCorreto = 0;

        if(status == 'fim'){
            return;
        }
        
        if(items[0] != 'cobblestone'){
            item_1.style.backgroundColor = corErradoCraft;
        } else{
            item_1.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[1] != 'cobblestone'){
            item_2.style.backgroundColor = corErradoCraft;
        } else{
            item_2.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[2] != 'cobblestone'){
            item_3.style.backgroundColor = corErradoCraft;
        } else{
            item_3.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[3] != null){
            item_4.style.backgroundColor = corErradoCraft;
        } else{
            item_4.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[4] != 'stick'){
            item_5.style.backgroundColor = corErradoCraft;
        } else{
            item_5.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[5] != null){
            item_6.style.backgroundColor = corErradoCraft;
        } else{
            item_6.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[6] != null){
            item_7.style.backgroundColor = corErradoCraft;
        } else{
            item_7.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[7] != 'stick'){
            item_8.style.backgroundColor = corErradoCraft;
        } else{
            item_8.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        if(items[8] != null){
            item_9.style.backgroundColor = corErradoCraft;
        } else{
            item_9.style.backgroundColor = corCertoCraft;
            qtdeCorreto++;
        }
        
        if(qtdeCorreto == 9){
            corretoFrase = `<b>Crafting Correto!</b>`
            img_res.style.backgroundColor = '#81e9b0';
        }

        div_tentativa.innerHTML += `
        <div class='tentativa'>
            <h3>Tentativa ${contagem}:</h3>
            <p>Corretos: ${qtdeCorreto}</p>
            <p>Incorretos: ${9-qtdeCorreto}</p>
            ${corretoFrase}
        </div>
        `;
        if(contagem == 5 || qtdeCorreto == 9){
            div_tentativa.innerHTML += `
            <div class='tentativa'>
                <h2>Jogo Finalizado!</h2>
            </div>
            `;
            status = 'fim';
            img_res.innerHTML = `
            <img src="./assets/images/stone_pickaxe.webp">
            `;
            return;
        }
        itemPos = 0;
        atualizarDisplay();
        
        contagem++;
    }


    // FUNCAO BASE
    // function selecionarItem(){
    //     let itemImg = './assets/images/Redstone.png';
    //     if(itemPos == 0){
    //         item_1.innerHTML = `<img src='${itemImg}'>`
    //     } else if(itemPos == 1){
    //         item_2.innerHTML = `<img src='${itemImg}'>`
    //     }else if(itemPos == 2){
    //         item_3.innerHTML = `<img src='${itemImg}'>`
    //     }else if(itemPos == 3){
    //         item_4.innerHTML = `<img src='${itemImg}'>`
    //     }if(itemPos == 4){
    //         item_5.innerHTML = `<img src='${itemImg}'>`
    //     }if(itemPos == 5){
    //         item_6.innerHTML = `<img src='${itemImg}'>`
    //     }if(itemPos == 6){
    //         item_7.innerHTML = `<img src='${itemImg}'>`
    //     }if(itemPos == 7){
    //         item_8.innerHTML = `<img src='${itemImg}'>`
    //     }else if(itemPos == 8){
    //         item_9.innerHTML = `<img src='${itemImg}'>`
    //     }

    //     if(itemPos < 0 && itemPos > 8){
    //         itemPos = 0;
    //     } else{
    //         itemPos++;
    //     }
    // }

    // EXIBIR NO DISPLAY e GUARDAR VALOR de CADA ITEM
    function selecionarItemCobblestone(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Cobblestone.png';
        items[itemPos] = 'cobblestone';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;
       
        // FORMA DE APRESENTAR VIA IF ELSE
        // if(itemPos == 0){
        //     item_1.innerHTML = `<img src='${itemImg}'>`
        //     item1 = item;
        // } else if(itemPos == 1){
        //     item_2.innerHTML = `<img src='${itemImg}'>`
        //     item2 = item;
        // }else if(itemPos == 2){
        //     item_3.innerHTML = `<img src='${itemImg}'>`
        //     item3 = item;
        // }else if(itemPos == 3){
        //     item_4.innerHTML = `<img src='${itemImg}'>`
        //     item4 = item;
        // }if(itemPos == 4){
        //     item_5.innerHTML = `<img src='${itemImg}'>`
        //     item5 = item;
        // }if(itemPos == 5){
        //     item_6.innerHTML = `<img src='${itemImg}'>`
        //     item6 = item;
        // }if(itemPos == 6){
        //     item_7.innerHTML = `<img src='${itemImg}'>`
        //     item7 = item;
        // }if(itemPos == 7){
        //     item_8.innerHTML = `<img src='${itemImg}'>`
        //     item8 = item;
        // }else if(itemPos == 8){
        //     item_9.innerHTML = `<img src='${itemImg}'>`
        //     item9 = item;
        // }

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemStick(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Stick.png';
        items[itemPos] = 'stick';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemIron(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Iron.png';
        items[itemPos] = 'iron';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;
        
        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemDiamond(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Diamond.png';
        items[itemPos] = 'diamond';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemGold(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Gold.png';
        items[itemPos] = 'gold';
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemCoal(){
        if(status == 'fim'){
            return;
        }
        
        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Coal.png';
        items[itemPos] = 'coal';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemPlanks(){
        if(status == 'fim'){
            return;
        }

        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Oak_Planks.png';
        items[itemPos] = 'planks';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemRedstone(){
        if(status == 'fim'){
            return;
        }
        
        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Redstone.png';
        items[itemPos] = 'redstone';
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    function selecionarItemVazio(){
        if(status == 'fim'){
            return;
        }
        
        // SETANDO IMAGEM E NOME DO ITEM
        let itemImg = './assets/images/Vazio.png';
        items[itemPos] = null;
        // ATRIBUINDO AO DISPLAY
        itemFrames[itemPos].innerHTML = `<img src='${itemImg}'>`;

        // INCREMENTANDO OU RESETANDO POSIÇÃO
        if(itemPos < 0 || itemPos > 7){
            itemPos = 0;
        } else{
            itemPos++;
        }

        // ATUALIZANDO DISPLAY
        atualizarDisplay();
    }
    
</script>
</html>